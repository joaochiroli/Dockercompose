version: "3.5"

networks:
  network-zabbix:
    driver: bridge

services:
  zabbix-agent:
      container_name: zabbix-agent
      image: zabbix/zabbix-agent:ubuntu-5.2-latest
      user: root
      networks:
        - network-zabbix
      #links:
        #- zabbix-server
      restart: always
      privileged: true
      volumes:
        - /etc/localtime:/etc/localtime:ro
        - ./zbx_env/etc/zabbix/zabbix_agentd.d:/etc/zabbix/zabbix_agentd.d:ro
        - ./zbx_env/var/lib/zabbix/modules:/var/lib/zabbix/modules:ro
        - ./zbx_env/var/lib/zabbix/enc:/var/lib/zabbix/enc:ro
        - ./zbx_env/var/lib/zabbix/ssh_keys:/var/lib/zabbix/ssh_keys:ro
        #- /var/run:/var/run
      ports:
        - '10050:10050'
      environment:
        - ZBX_HOSTNAME=Zabbix server
        - ZBX_SERVER_HOST=172.18.0.1